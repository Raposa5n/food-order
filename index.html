<!DOCTYPE html>
<html lang="zh-Hant">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>點餐與歷史訂單系統</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
</head>

<body class="container py-4">
    <ul class="nav nav-tabs mb-3">
        <li class="nav-item"><button class="nav-link active" onclick="switchPage('order')">點餐系統</button></li>
        <li class="nav-item"><button class="nav-link" onclick="switchPage('history')">歷史訂單</button></li>
    </ul>

    <div id="order-page">
        <div class="d-flex justify-content-between align-items-center">
            <h1>點餐系統</h1>
            <div id="current-time" class="fw-bold"></div>
        </div>
        <div class="mb-3">
            <input type="text" id="new-category-name" class="form-control mb-2" placeholder="新增分類名稱">
            <button class="btn btn-primary" onclick="addCategory()">新增分類</button>
            <button class="btn btn-danger ms-2" onclick="deleteCategory()">刪除目前分類</button>
        </div>
        <div id="category-buttons" class="d-flex flex-wrap mb-3"></div>
        <div id="menu" class="p-3 rounded border menu-highlight"></div>
        <div class="mt-3">
            <div id="multi-item-container"></div>
            <div class="mb-2">
                <button class="btn btn-outline-primary btn-sm" onclick="addItemInput()">＋ 新增一項</button>
                <button class="btn btn-outline-danger btn-sm" onclick="removeItemInput()">－ 移除一項</button>
                <button class="btn btn-primary float-end" onclick="addMultipleItems()">新增品項</button>
            </div>
        </div>
        <div id="order-list" class="mt-4"></div>
        <div class="h4 mt-3" id="total-price">總價: $0</div>
        <button class="btn btn-success mt-3" onclick="completeOrder()">完成訂單</button>
    </div>

    <div id="history-page" style="display: none">
        <h1 class="mb-4">歷史訂單紀錄</h1>
        <div class="mb-3 d-flex gap-2">
            <input type="date" id="filter-date" class="form-control">
            <button class="btn btn-primary" onclick="applyDateFilter()">套用日期篩選</button>
            <button class="btn btn-secondary" onclick="clearFilter()">清除篩選</button>
            <button class="btn btn-success" onclick="exportToExcel()">匯出 Excel</button>
        </div>
        <h2 class="mt-4" id="chartTitle">各分類銷售統計</h2>
        <canvas id="categoryChart" height="100"></canvas>
        <div class="accordion my-4" id="ordersAccordion"></div>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script src="script.js" defer></script>

</html>